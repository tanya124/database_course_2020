WITH RECURSIVE CTE (DT) AS
                   (
                       SELECT MIN(CAST(BEGIN_DTTM AS DATE)) AS DT
                       FROM SESSIONS
                       UNION ALL
                       SELECT DT + INTERVAL 7 DAY
                       FROM CTE
                       WHERE DT + INTERVAL 7 DAY <= (SELECT MAX(CAST (BEGIN_DTTM AS DATE)) FROM SESSIONS)
                   )
SELECT CTE.DT, COUNT(DISTINCT USER_ID)
FROM CTE
         LEFT JOIN SESSIONS
                   ON CTE.DT <= CAST(SESSIONS.BEGIN_DTTM AS DATE) AND CTE.DT + INTERVAL 7 DAY > CAST (SESSIONS.BEGIN_DTTM AS DATE)
GROUP BY CTE.DT
ORDER BY CTE.DT;

/*
 2018-08-02	6
2018-08-09	11
2018-08-16	17
2018-08-23	22
2018-08-30	31
2018-09-06	35
2018-09-13	41
2018-09-20	50
2018-09-27	51

 */